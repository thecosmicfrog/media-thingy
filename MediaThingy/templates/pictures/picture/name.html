{% extends "base.html" %}

{% block title %}{{ picture_name }}{% endblock %}

{% block header1 %}{{ picture_name }}{% endblock %}

{% block head %}{% endblock %}

{% block back_button_link %}/pictures{% endblock %}
{% block back_button_text %}Pictures{% endblock %}

{% block content %}

<div id="media_list">
	<div id="picture"><img src="{{ picture.media_url }}"></img></div>
</div>

<div class="btn-group">
	<a id="rotateAnticlockwiseButton" class="btn btn-primary">
		<img src="{{ STATIC_URL}}img/rotate_anticlockwise.png" />
	</a>
	<a id="rotateClockwiseButton" class="btn btn-primary">
		<img src="{{ STATIC_URL}}img/rotate_clockwise.png" />
	</a>
</div>

{% block scripts %}

<script type="text/javascript">
	var orientation = 0; // 0=upright; 1=rotated clockwise; -1=rotated anti-clockwise
	$(document).ready(function() {
		$("#rotateClockwiseButton").click(function() {
			if (orientation == 0) {
				$("#media_list").css({
					"-webkit-transform-origin": "50% 50%",
					"-webkit-transform": "rotate(90deg)",
					"-moz-transform": "rotate(90deg)"
				});
				orientation = 1;
			}
			else if (orientation == -1) {
				$("#media_list").css({
					"-webkit-transform-origin": "50% 50%",
					"-webkit-transform": "rotate(0deg)",
					"-moz-transform": "rotate(0deg)"
				});
				orientation = 0;
			}
		});
	});
	
	$(document).ready(function() {
		$("#rotateAnticlockwiseButton").click(function() {
			if (orientation == 0) {
				$("#media_list").css({
					"-webkit-transform-origin": "54% 54%",
					"-webkit-transform": "rotate(-90deg)",
					"-moz-transform": "rotate(-90deg)"
				});
				orientation = -1;
			}
			else if (orientation == 1) {
				$("#media_list").css({
					"-webkit-transform-origin": "50% 50%",
					"-webkit-transform": "rotate(0deg)",
					"-moz-transform": "rotate(0deg)"
				});
				orientation = 0;
			}
		});
	});
</script>

{% endblock %}

{% endblock %}

